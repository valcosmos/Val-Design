var k=Object.defineProperty;var l=(e,a)=>k(e,"name",{value:a,configurable:!0});import{r as t,R as C}from"./index-d84d9d3b.js";import{r as g}from"./index-67ef4239.js";import{a as y,j as n,F as x}from"./jsx-runtime-82e0d3de.js";import"./index-9188ba37.js";import{B as S}from"./button-2306e789.js";import"./es.object.get-own-property-descriptor-ca06259f.js";import"./index-ed86a6de.js";const s=l(e=>{const{children:a,visible:d,hasMask:v,onVisibleChange:o}=e,[i,h]=t.useState(d||!1),c=t.useRef(null);t.useEffect(()=>{"visible"in e&&h(d)},[d]),t.useEffect(()=>{if(i){const r=l(u=>{const f=[];c.current&&f.push(c.current);const E=u.target;for(let m=0;m<f.length;m++){const p=f[m];if(p&&p.contains(E))return}o==null||o(!1)},"handleMouseDown");return window.addEventListener("mousedown",r,!1),()=>window.removeEventListener("mousedown",r,!1)}},[i]),t.useEffect(()=>{if(i&&c.current){const r=l(u=>{i&&u.keyCode===27&&(o==null||o(!1))},"handleKeyDown");return window.addEventListener("keydown",r,!1),()=>window.removeEventListener("keydown",r,!1)}},[i&&c.current]);const b=t.useCallback(r=>{c.current=r},[]),O=C.Children.only(a),w=t.cloneElement(O,{ref:b}),_=g.createPortal(w,document.body);return i?y("div",{children:[v?n("div",{}):null,_]}):null},"Overlay");try{s.displayName="Overlay",s.__docgenInfo={description:"",displayName:"Overlay",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},hasMask:{defaultValue:null,description:"",name:"hasMask",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Overlay/Overlay.tsx#Overlay"]={docgenInfo:s.__docgenInfo,name:"Overlay",path:"src/components/Overlay/Overlay.tsx#Overlay"})}catch{}const j={title:"Overlay",component:s},R=l(e=>n(s,{...e}),"Template"),V=R.bind({});V.args={children:n("div",{style:{border:"1px solid black",width:300,height:300},children:"content"})};const D=l(()=>n(s,{children:n("div",{style:{border:"1px solid black",width:300,height:300},children:"Overlay"})}),"Basic"),I=l(()=>{const[e,a]=t.useState(!1);return y(x,{children:[n(S,{type:"primary",onClick:()=>a(!0),children:"Click"}),n(s,{visible:e,onVisibleChange:d=>a(d),children:n("div",{style:{border:"1px solid black",width:300,height:300,position:"absolute",top:200,left:200},children:"under control"})})]})},"UnderControl"),K=["Primary","Basic","UnderControl"];export{D as Basic,V as Primary,I as UnderControl,K as __namedExportsOrder,j as default};
//# sourceMappingURL=Overlay.stories-fb1ebf6d.js.map
