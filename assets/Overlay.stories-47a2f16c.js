var k=Object.defineProperty;var s=(e,l)=>k(e,"name",{value:l,configurable:!0});import{r as t,R as C}from"./index-5837b0d6.js";import{r as E}from"./index-1e7e3182.js";import{a as y,j as r,F as g}from"./jsx-runtime-e0aa43b5.js";import"./index-8252f08f.js";import{B as S}from"./button-58ca4f44.js";import"./es.object.get-own-property-descriptor-89e834e9.js";import"./index-9f7f24f4.js";const o=s(e=>{const{children:l,visible:d,hasMask:v,onVisibleChange:a}=e,[i,h]=t.exports.useState(d||!1),c=t.exports.useRef(null);t.exports.useEffect(()=>{"visible"in e&&h(d)},[d]),t.exports.useEffect(()=>{if(i){const n=s(u=>{const f=[];c.current&&f.push(c.current);const _=u.target;for(let p=0;p<f.length;p++){const m=f[p];if(m&&m.contains(_))return}a==null||a(!1)},"handleMouseDown");return window.addEventListener("mousedown",n,!1),()=>window.removeEventListener("mousedown",n,!1)}},[i]),t.exports.useEffect(()=>{if(i&&c.current){const n=s(u=>{!i||u.keyCode===27&&(a==null||a(!1))},"handleKeyDown");return window.addEventListener("keydown",n,!1),()=>window.removeEventListener("keydown",n,!1)}},[i&&c.current]);const b=t.exports.useCallback(n=>{c.current=n},[]),O=C.Children.only(l),x=t.exports.cloneElement(O,{ref:b}),w=E.exports.createPortal(x,document.body);return i?y("div",{children:[v?r("div",{}):null,w]}):null},"Overlay");try{o.displayName="Overlay",o.__docgenInfo={description:"",displayName:"Overlay",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},hasMask:{defaultValue:null,description:"",name:"hasMask",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Overlay/Overlay.tsx#Overlay"]={docgenInfo:o.__docgenInfo,name:"Overlay",path:"src/components/Overlay/Overlay.tsx#Overlay"})}catch{}const j={title:"Overlay",component:o},R=s(e=>r(o,{...e}),"Template"),V=R.bind({});V.args={children:r("div",{style:{border:"1px solid black",width:300,height:300},children:"content"})};const D=s(()=>r(o,{children:r("div",{style:{border:"1px solid black",width:300,height:300},children:"Overlay"})}),"Basic"),I=s(()=>{const[e,l]=t.exports.useState(!1);return y(g,{children:[r(S,{type:"primary",onClick:()=>l(!0),children:"Click"}),r(o,{visible:e,onVisibleChange:d=>l(d),children:r("div",{style:{border:"1px solid black",width:300,height:300,position:"absolute",top:200,left:200},children:"under control"})})]})},"UnderControl"),K=["Primary","Basic","UnderControl"];export{D as Basic,V as Primary,I as UnderControl,K as __namedExportsOrder,j as default};
//# sourceMappingURL=Overlay.stories-47a2f16c.js.map
