var k=Object.defineProperty;var s=(e,o)=>k(e,"name",{value:o,configurable:!0});import{r as t,R as C,b as y,j as r,F as E}from"./jsx-runtime.6054a7d3.js";import{r as g}from"./index.6dcbdb7d.js";import"./index.5064706e.js";import{B as S}from"./button.802667f7.js";import"./iframe.b645365a.js";import"./index.220dfe0f.js";const l=s(e=>{const{children:o,visible:d,hasMask:v,onVisibleChange:a}=e,[i,h]=t.exports.useState(d||!1),c=t.exports.useRef(null);t.exports.useEffect(()=>{"visible"in e&&h(d)},[d]),t.exports.useEffect(()=>{if(i){const n=s(u=>{const f=[];c.current&&f.push(c.current);const _=u.target;for(let p=0;p<f.length;p++){const m=f[p];if(m&&m.contains(_))return}a==null||a(!1)},"handleMouseDown");return window.addEventListener("mousedown",n,!1),()=>window.removeEventListener("mousedown",n,!1)}},[i]),t.exports.useEffect(()=>{if(i&&c.current){const n=s(u=>{!i||u.keyCode===27&&(a==null||a(!1))},"handleKeyDown");return window.addEventListener("keydown",n,!1),()=>window.removeEventListener("keydown",n,!1)}},[i&&c.current]);const b=t.exports.useCallback(n=>{c.current=n},[]),O=C.Children.only(o),x=t.exports.cloneElement(O,{ref:b}),w=g.exports.createPortal(x,document.body);return i?y("div",{children:[v?r("div",{}):null,w]}):null},"Overlay");try{l.displayName="Overlay",l.__docgenInfo={description:"",displayName:"Overlay",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},hasMask:{defaultValue:null,description:"",name:"hasMask",required:!1,type:{name:"boolean"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Overlay/Overlay.tsx#Overlay"]={docgenInfo:l.__docgenInfo,name:"Overlay",path:"src/components/Overlay/Overlay.tsx#Overlay"})}catch{}const P={title:"Overlay",component:l},R=s(e=>r(l,{...e}),"Template"),V=R.bind({});V.args={children:r("div",{style:{border:"1px solid black",width:300,height:300},children:"content"})};const j=s(()=>r(l,{children:r("div",{style:{border:"1px solid black",width:300,height:300},children:"Overlay"})}),"Basic"),D=s(()=>{const[e,o]=t.exports.useState(!1);return y(E,{children:[r(S,{type:"primary",onClick:()=>o(!0),children:"Click"}),r(l,{visible:e,onVisibleChange:d=>o(d),children:r("div",{style:{border:"1px solid black",width:300,height:300,position:"absolute",top:200,left:200},children:"under control"})})]})},"UnderControl"),I=["Primary","Basic","UnderControl"];export{j as Basic,V as Primary,D as UnderControl,I as __namedExportsOrder,P as default};
//# sourceMappingURL=Overlay.stories.8e5cbcf9.js.map
