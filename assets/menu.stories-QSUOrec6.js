import{j as e}from"./jsx-runtime-vNq4Oc-g.js";import{r as f,R as x}from"./index-4g5l5LRQ.js";import{c as b}from"./index--jIQrVgb.js";import{I as P}from"./icon-qWZpAwz3.js";import{T as R}from"./transition-pUwUtk3C.js";import{a as O}from"./chunk-WFFRPTHA-4hQ1D0Dg.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-uJ5N1ZfI.js";import"./index-tvtfaFq4.js";import"./inheritsLoose-9tIPpNWa.js";import"./index-jmm5gWkb.js";import"./preview-errors-UTk86sAa.js";import"./index-PPLHz8o0.js";import"./v4-yQnnJER4.js";const g=f.createContext({index:"0"}),y=n=>{const{className:a,mode:l,style:m,children:s,defaultIndex:p,onSelect:i,defaultOpenSubMenus:r}=n,[d,F]=f.useState(p),S=b("v-menu",a,{"menu-vertical":l==="vertical","menu-horizontal":l!=="vertical"}),M={index:d||"0",onSelect:o=>{F(o),i&&i(o)},mode:l,defaultOpenSubMenus:r},E=()=>x.Children.map(s,(o,B)=>{const t=o,{displayName:c}=t.type;if(c==="MenuItem"||c==="SubMenu")return x.cloneElement(t,{index:B.toString()});console.error("Warning: Menu has a child which is not a MenuItem component")});return e.jsx("ul",{className:S,style:m,"data-testid":"test-menu",children:e.jsx(g.Provider,{value:M,children:E()})})};y.defaultProps={defaultIndex:"0",mode:"horizontal",defaultOpenSubMenus:[]};try{y.displayName="Menu",y.__docgenInfo={description:`> 为网站提供导航功能的菜单。支持横向纵向两种模式，支持下拉菜单。

### 引用方法

\`\`\`js

 import { Menu } from 'v-design'

\`\`\``,displayName:"Menu",props:{defaultIndex:{defaultValue:{value:"0"},description:"默认 active 的菜单项的索引值",name:"defaultIndex",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},mode:{defaultValue:{value:"horizontal"},description:"菜单类型 横向或者纵向",name:"mode",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},style:{defaultValue:null,description:"菜单样式",name:"style",required:!1,type:{name:"CSSProperties"}},onSelect:{defaultValue:null,description:"点击菜单项触发的回掉函数",name:"onSelect",required:!1,type:{name:"((selectedIndex: string) => void)"}},defaultOpenSubMenus:{defaultValue:{value:"[]"},description:"设置子菜单的默认打开 只在纵向模式下生效",name:"defaultOpenSubMenus",required:!1,type:{name:"string[]"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNode"}}}}}catch{}try{menu.displayName="menu",menu.__docgenInfo={description:`> 为网站提供导航功能的菜单。支持横向纵向两种模式，支持下拉菜单。

### 引用方法

\`\`\`js

 import { Menu } from 'v-design'

\`\`\``,displayName:"menu",props:{defaultIndex:{defaultValue:{value:"0"},description:"默认 active 的菜单项的索引值",name:"defaultIndex",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},mode:{defaultValue:{value:"horizontal"},description:"菜单类型 横向或者纵向",name:"mode",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},style:{defaultValue:null,description:"菜单样式",name:"style",required:!1,type:{name:"CSSProperties"}},onSelect:{defaultValue:null,description:"点击菜单项触发的回掉函数",name:"onSelect",required:!1,type:{name:"((selectedIndex: string) => void)"}},defaultOpenSubMenus:{defaultValue:{value:"[]"},description:"设置子菜单的默认打开 只在纵向模式下生效",name:"defaultOpenSubMenus",required:!1,type:{name:"string[]"}},children:{defaultValue:null,description:"子元素",name:"children",required:!1,type:{name:"ReactNode"}}}}}catch{}const C=({index:n,title:a,children:l,className:m})=>{const s=f.useContext(g),p=s.defaultOpenSubMenus,i=n&&s.mode==="vertical"?p.includes(n):!1,[r,d]=f.useState(i),F=b("menu-item submenu-item",m,{"is-active":s.index===n,"is-opened":r,"is-vertical":s.mode==="vertical"}),S=t=>{t.preventDefault(),d(!r)};let D;const M=(t,c)=>{clearTimeout(D),t.preventDefault(),D=setTimeout(()=>{d(c)},300)},E=s.mode==="vertical"?{onClick:S}:{},o=s.mode!=="vertical"?{onMouseEnter:t=>{M(t,!0)},onMouseLeave:t=>{M(t,!1)}}:{},B=()=>{const t=b("v-submenu",{"menu-opened":r}),c=x.Children.map(l,(z,$)=>{const _=z;if(_.type.displayName==="MenuItem")return x.cloneElement(_,{index:`${n}-${$}`});console.error("Warning: SubMenu has a child which is not a MenuItem component")});return e.jsx(R,{in:r,timeout:300,animation:"zoom-in-top",children:e.jsx("ul",{className:t,children:c})})};return e.jsxs("li",{className:F,...o,children:[e.jsxs("div",{className:"submenu-title",...E,children:[a,e.jsx(P,{icon:"angle-down",className:"arrow-icon"})]}),B()]},n)};C.displayName="SubMenu";try{C.displayName="SubMenu",C.__docgenInfo={description:"",displayName:"SubMenu",props:{index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const v=n=>{const{index:a,disabled:l,className:m,style:s,children:p}=n,i=f.useContext(g),r=b("menu-item",m,{"is-disabled":l,"is-active":i.index===a}),d=()=>{i.onSelect&&!l&&typeof a=="string"&&i.onSelect(a)};return e.jsx("li",{className:r,style:s,onClick:d,children:p})};v.displayName="MenuItem";try{v.displayName="MenuItem",v.__docgenInfo={description:"",displayName:"MenuItem",props:{index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}}}catch{}const u=y;u.Item=v;u.SubMenu=C;const ue={title:"Data Entry/Menu 导航菜单",component:u},I=n=>e.jsxs(u,{...n,defaultIndex:"0",onSelect:a=>O(`clicked ${a} item`),children:[e.jsx(u.Item,{children:"menu 1"}),e.jsx(u.Item,{disabled:!0,children:"disabled"}),e.jsxs(u.SubMenu,{title:"sub menu",children:[e.jsx(u.Item,{children:"submenu 1"}),e.jsx(u.Item,{children:"submenu 1"}),e.jsx(u.Item,{children:"submenu 1"})]}),e.jsx(u.Item,{children:"menu2"})]}),h=n=>e.jsxs(u,{...n,defaultIndex:"0",mode:"vertical",onSelect:a=>O(`clicked ${a} item`),children:[e.jsx(u.Item,{children:"cool link"}),e.jsx(u.Item,{disabled:!0,children:"disabled"}),e.jsxs(u.SubMenu,{title:"sub menu",children:[e.jsx(u.Item,{children:"submenu 1"}),e.jsx(u.Item,{children:"submenu 1"}),e.jsx(u.Item,{children:"submenu 1"})]}),e.jsx(u.Item,{children:"cool link 2"})]});var N,j,A;I.parameters={...I.parameters,docs:{...(N=I.parameters)==null?void 0:N.docs,source:{originalSource:`args => <Menu {...args} defaultIndex={'0'} onSelect={index => action(\`clicked \${index} item\`)}>
    <Menu.Item>menu 1</Menu.Item>
    <Menu.Item disabled>disabled</Menu.Item>
    <Menu.SubMenu title="sub menu">
      <Menu.Item>submenu 1</Menu.Item>
      <Menu.Item>submenu 1</Menu.Item>
      <Menu.Item>submenu 1</Menu.Item>
    </Menu.SubMenu>
    <Menu.Item>menu2</Menu.Item>
  </Menu>`,...(A=(j=I.parameters)==null?void 0:j.docs)==null?void 0:A.source}}};var V,q,k;h.parameters={...h.parameters,docs:{...(V=h.parameters)==null?void 0:V.docs,source:{originalSource:`args => <Menu {...args} defaultIndex={'0'} mode="vertical" onSelect={index => action(\`clicked \${index} item\`)}>
    <Menu.Item>cool link</Menu.Item>
    <Menu.Item disabled>disabled</Menu.Item>
    <Menu.SubMenu title="sub menu">
      <Menu.Item>submenu 1</Menu.Item>
      <Menu.Item>submenu 1</Menu.Item>
      <Menu.Item>submenu 1</Menu.Item>
    </Menu.SubMenu>
    <Menu.Item>cool link 2</Menu.Item>
  </Menu>`,...(k=(q=h.parameters)==null?void 0:q.docs)==null?void 0:k.source}}};const ne=["HorizontalMenu","VerticalMenu"];export{I as HorizontalMenu,h as VerticalMenu,ne as __namedExportsOrder,ue as default};
